<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Haystack - Motif enrichment Analysis</title>
		<meta name="author" content="Luca Pinello" />

		<script language="javascript">
			function newWin(imgName, winName, winWidth, winHeight, title) {
				var oImg = window.open("", winName, "directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=" + winWidth + ",height=" + winHeight);
				var markup = ('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n<html>\n<head>\n<title>' + title + '</title>\n<meta http-equiv="imagetoolbar" content="no" />\n<style type="text/css">\n<!--\n\nhtml, body  {margin:0;background-color: rgb(255,255,255);       } \n .img_thumb {    height: 580px; width: 580px;display:table-cell;vertical-align:middle;text-align: center;} \n \n//-->\n</style>\n<script type="text/javascript">\n<!--\n\n/*\n"Artotems Co. Script"\n*/\n\nx = 0;\n\nfunction getCnt(){\n\nvar doc = document;\nif(doc.images[0].complete){\nclearInterval(setInt);\ndoc.title = "' + title + '";\n}else{\ndoc.title = "Loading: [" + x + "]";\nx++;\n}\n}\nvar setInt = setInterval(getCnt,10);\n\n//-->\n<\/script>\n</head>\n<body onload="self.focus();">\n\n <center><div class="img_thumb"> <img  src="' + imgName + '" width=100%   alt="Image" onclick="self.close();" onerror="document.title=\'image not found!\';alert(\'image not found!\');self.close();" style="cursor:pointer;" ></div></center>\n\n</body>\n</html>');
				oImg.document.write(markup);
				oImg.document.close();
			}

			eval( function(p, a, c, k, e, r) {
				e = function(c) {
					return (c < a ? '' : e(parseInt(c / a))) + (( c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36))
				};
				if(!''.replace(/^/, String)) {
					while(c--)
					r[e(c)] = k[c] || e(c);
					k = [
					function(e) {
						return r[e]
					}];
					e = function() {
						return '\\w+'
					};
					c = 1
				};
				while(c--)
				if(k[c])
					p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]);
				return p
			}('4 g=p v();4 5=0;8 h(a){9=p w();9.j=a;9.e=a.e;9.f=a.6["f"];7 9}8 q(a){a.j.6["f"]=a.f;1(a.e){a.j.e=a.e}}8 k(a,b){2=a;4 i=0;l(2&&(!2.3||(2.3&&2.3!=b))){2=a.x[i];i++}1(2&&2.3&&2.3==b){7 2}m 1(a.r)7 k(a.r,b);7 0}8 n(a,b){4 i=0;y(i;i<5;i++){q(g[i])}5=0;1(a.o=="z")7;l(a&&((a.3&&a.3!="A")||!a.3)){a=a.B}1(!a||(a&&a.o&&a.o=="C"))7;1(a){4 c=a;1(c){g[5]=h(c);5++}4 d=k(a,"s");4 i=0;l(d){1(d.3=="s"){1(!d.6){d.6={}}m{g[5]=h(d);5++}d.6["f"]=b;d.6.D=\'E\';i++}d=d.F}}}8 G(a,b){1(!a)a=H.I;1(a.t){n(a.t,b)}m 1(a.u){n(a.u,b)}}', 45, 45, '|if|myElement|tagName|var|savedStateCount|style|return|function|saved|||||className|backgroundColor|savedStates|saveBackgroundStyle||element|findNode|while|else|highlightTableRow|id|new|restoreBackgroundStyle|firstChild|TD|srcElement|target|Array|Object|childNodes|for|myTable|TR|parentNode|header|cursor|default|nextSibling|trackTableHighlight|window|event'.split('|'), 0, {}))
		</script>
		<script language="javascript">
			var stIsIE = /*@cc_on!@*/false;
			sorttable = {
				init : function() {
					if(arguments.callee.done) {
						return
					}
					arguments.callee.done = true;
					if(_timer) {
						clearInterval(_timer)
					}
					if(!document.createElement || !document.getElementsByTagName) {
						return
					}
					sorttable.DATE_RE = /^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/;
					forEach(document.getElementsByTagName("table"), function(a) {
						if(a.className.search(/\bsortable\b/) != -1) {
							sorttable.makeSortable(a)
						}
					})
				},
				makeSortable : function(b) {
					if(b.getElementsByTagName("thead").length == 0) {
						the = document.createElement("thead");
						the.appendChild(b.rows[0]);
						b.insertBefore(the, b.firstChild)
					}
					if(b.tHead == null) {
						b.tHead = b.getElementsByTagName("thead")[0]
					}
					if(b.tHead.rows.length != 1) {
						return
					}
					sortbottomrows = [];
					for(var a = 0; a < b.rows.length; a++) {
						if(b.rows[a].className.search(/\bsortbottom\b/) != -1) {
							sortbottomrows[sortbottomrows.length] = b.rows[a]
						}
					}
					if(sortbottomrows) {
						if(b.tFoot == null) {
							tfo = document.createElement("tfoot");
							b.appendChild(tfo)
						}
						for(var a = 0; a < sortbottomrows.length; a++) {
							tfo.appendChild(sortbottomrows[a])
						}
						delete sortbottomrows
					}
					headrow = b.tHead.rows[0].cells;
					for(var a = 0; a < headrow.length; a++) {
						if(!headrow[a].className.match(/\bsorttable_nosort\b/)) {
							mtch = headrow[a].className.match(/\bsorttable_([a-z0-9]+)\b/);
							if(mtch) {
								override = mtch[1]
							}
							if(mtch && typeof sorttable["sort_" + override] == "function") {
								headrow[a].sorttable_sortfunction = sorttable["sort_" + override]
							} else {
								headrow[a].sorttable_sortfunction = sorttable.guessType(b, a)
							}
							headrow[a].sorttable_columnindex = a;
							headrow[a].sorttable_tbody = b.tBodies[0];
							sortMark = document.createElement('span');
							sortMark.innerHTML = stIsIE ? '&nbsp<font face="webdings">4</font>' : '&nbsp;&#x25B8;';
							headrow[a].appendChild(sortMark);
							dean_addEvent(headrow[a], "click", function(f) {
								if(this.className.search(/\bsorttable_sorted\b/) != -1) {
									sorttable.reverse(this.sorttable_tbody);
									this.className = this.className.replace("sorttable_sorted", "sorttable_sorted_reverse");
									this.removeChild(document.getElementById("sorttable_sortfwdind"));
									sortrevind = document.createElement("span");
									sortrevind.id = "sorttable_sortrevind";
									sortrevind.innerHTML = stIsIE ? '&nbsp<font face="webdings">5</font>' : "&nbsp;&#x25B4;";
									this.appendChild(sortrevind);
									return
								}
								if(this.className.search(/\bsorttable_sorted_reverse\b/) != -1) {
									sorttable.reverse(this.sorttable_tbody);
									this.className = this.className.replace("sorttable_sorted_reverse", "sorttable_sorted");
									this.removeChild(document.getElementById("sorttable_sortrevind"));
									sortfwdind = document.createElement("span");
									sortfwdind.id = "sorttable_sortfwdind";
									sortfwdind.innerHTML = stIsIE ? '&nbsp<font face="webdings">6</font>' : "&nbsp;&#x25BE;";
									this.appendChild(sortfwdind);
									return
								}
								theadrow = this.parentNode;
								forEach(theadrow.childNodes, function(e) {
									if(e.nodeType == 1) {
										e.className = e.className.replace("sorttable_sorted_reverse", "");
										e.className = e.className.replace("sorttable_sorted", "");
										var rx = new RegExp("<span>(.*?)</span>", "i");
										e.innerHTML = e.innerHTML.replace(rx, "");
										sortMark = document.createElement('span');
										sortMark.innerHTML = stIsIE ? '&nbsp<font face="webdings">4</font>' : '&nbsp;&#x25B8;';
										e.appendChild(sortMark);
									}
								});
								sortfwdind = document.getElementById("sorttable_sortfwdind");
								if(sortfwdind) {
									sortfwdind.parentNode.removeChild(sortfwdind)
								}
								sortrevind = document.getElementById("sorttable_sortrevind");
								if(sortrevind) {
									sortrevind.parentNode.removeChild(sortrevind)
								}
								this.className += " sorttable_sorted";
								var rx = new RegExp("<span>(.*?)</span>", "i");
								this.innerHTML = this.innerHTML.replace(rx, "");
								sortfwdind = document.createElement("span");
								sortfwdind.id = "sorttable_sortfwdind";
								sortfwdind.innerHTML = stIsIE ? '&nbsp<font face="webdings">6</font>' : "&nbsp;&#x25BE;";
								this.appendChild(sortfwdind);
								row_array = [];
								col = this.sorttable_columnindex;
								rows = this.sorttable_tbody.rows;
								for(var c = 0; c < rows.length; c++) {
									row_array[row_array.length] = [sorttable.getInnerText(rows[c].cells[col]), rows[c]]
								}
								row_array.sort(this.sorttable_sortfunction);
								tb = this.sorttable_tbody;
								for(var c = 0; c < row_array.length; c++) {
									tb.appendChild(row_array[c][1])
								}
								delete row_array
							})
						}
					}
				},
				guessType : function(c, b) {
					sortfn = sorttable.sort_alpha;
					for(var a = 0; a < c.tBodies[0].rows.length; a++) {
						text = sorttable.getInnerText(c.tBodies[0].rows[a].cells[b]);
						if(text != "") {
							
							//if(text.match(/^-?[£$¤]?[\d,.]+%?$/)) {
							if(text.match(/^-?[\d,.]+e?-?[\d]+%?/)) {
								return sorttable.sort_numeric
							}
							possdate = text.match(sorttable.DATE_RE);
							if(possdate) {
								first = parseInt(possdate[1]);
								second = parseInt(possdate[2]);
								if(first > 12) {
									return sorttable.sort_ddmm
								} else {
									if(second > 12) {
										return sorttable.sort_mmdd
									} else {
										sortfn = sorttable.sort_ddmm
									}
								}
							}
						}
					}
					return sortfn
				},
				getInnerText : function(b) {
					hasInputs = ( typeof b.getElementsByTagName == "function") && b.getElementsByTagName("input").length;
					if(b.getAttribute("sorttable_customkey") != null) {
						return b.getAttribute("sorttable_customkey")
					} else {
						if( typeof b.textContent != "undefined" && !hasInputs) {
							return b.textContent.replace(/^\s+|\s+$/g, "")
						} else {
							if( typeof b.innerText != "undefined" && !hasInputs) {
								return b.innerText.replace(/^\s+|\s+$/g, "")
							} else {
								if( typeof b.text != "undefined" && !hasInputs) {
									return b.text.replace(/^\s+|\s+$/g, "")
								} else {
									switch(b.nodeType) {
										case 3:
											if(b.nodeName.toLowerCase() == "input") {
												return b.value.replace(/^\s+|\s+$/g, "")
											}
										case 4:
											return b.nodeValue.replace(/^\s+|\s+$/g, "");
											break;
										case 1:
										case 11:
											var c = "";
											for(var a = 0; a < b.childNodes.length; a++) {
												c += sorttable.getInnerText(b.childNodes[a])
											}
											return c.replace(/^\s+|\s+$/g, "");
											break;
										default:
											return ""
									}
								}
							}
						}
					}
				},
				reverse : function(a) {
					newrows = [];
					for(var b = 0; b < a.rows.length; b++) {
						newrows[newrows.length] = a.rows[b]
					}
					for(var b = newrows.length - 1; b >= 0; b--) {
						a.appendChild(newrows[b])
					}
					delete newrows
				},
				sort_numeric : function(e, c) {
					
					n1=parseFloat(e[0]).toString();
					n2=parseFloat(c[0]).toString();
					
					aa = parseFloat(n1.replace(/[^0-9.-]/g, ""));

					if(isNaN(aa)) {
						aa = 0
					}
					bb = parseFloat(n2.replace(/[^0-9.-]/g, ""));
					if(isNaN(bb)) {
						bb = 0
					}
					return aa - bb
				},
				sort_alpha : function(e, c) {
					if(e[0] == c[0]) {
						return 0
					}
					if(e[0] < c[0]) {
						return -1
					}
					return 1
				},
				sort_ddmm : function(e, c) {
					mtch = e[0].match(sorttable.DATE_RE);
					y = mtch[3];
					m = mtch[2];
					d = mtch[1];
					if(m.length == 1) {
						m = "0" + m
					}
					if(d.length == 1) {
						d = "0" + d
					}
					dt1 = y + m + d;
					mtch = c[0].match(sorttable.DATE_RE);
					y = mtch[3];
					m = mtch[2];
					d = mtch[1];
					if(m.length == 1) {
						m = "0" + m
					}
					if(d.length == 1) {
						d = "0" + d
					}
					dt2 = y + m + d;
					if(dt1 == dt2) {
						return 0
					}
					if(dt1 < dt2) {
						return -1
					}
					return 1
				},
				sort_mmdd : function(e, c) {
					mtch = e[0].match(sorttable.DATE_RE);
					y = mtch[3];
					d = mtch[2];
					m = mtch[1];
					if(m.length == 1) {
						m = "0" + m
					}
					if(d.length == 1) {
						d = "0" + d
					}
					dt1 = y + m + d;
					mtch = c[0].match(sorttable.DATE_RE);
					y = mtch[3];
					d = mtch[2];
					m = mtch[1];
					if(m.length == 1) {
						m = "0" + m
					}
					if(d.length == 1) {
						d = "0" + d
					}
					dt2 = y + m + d;
					if(dt1 == dt2) {
						return 0
					}
					if(dt1 < dt2) {
						return -1
					}
					return 1
				},
				shaker_sort : function(h, f) {
					var a = 0;
					var e = h.length - 1;
					var j = true;
					while(j) {
						j = false;
						for(var c = a; c < e; ++c) {
							if(f(h[c], h[c + 1]) > 0) {
								var g = h[c];
								h[c] = h[c + 1];
								h[c + 1] = g;
								j = true
							}
						}
						e--;
						if(!j) {
							break
						}
						for(var c = e; c > a; --c) {
							if(f(h[c], h[c - 1]) < 0) {
								var g = h[c];
								h[c] = h[c - 1];
								h[c - 1] = g;
								j = true
							}
						}
						a++
					}
				}
			};
			if(document.addEventListener) {
				document.addEventListener("DOMContentLoaded", sorttable.init, false);
				/*@cc_on @*//*@if (@_win32)    document.write("<script id=__ie_onload defer src=javascript:void(0)><\/script>");var script = document.getElementById("__ie_onload");script.onreadystatechange = function() {if (this.readyState == "complete") {sorttable.init(); }};/*@end @*/
			}
			if(/WebKit/i.test(navigator.userAgent)) {
				var _timer = setInterval(function() {
					if(/loaded|complete/.test(document.readyState)) {
						sorttable.init()
					}
				}, 10)
			}
			window.onload = sorttable.init;
			function dean_addEvent(b, e, c) {
				if(b.addEventListener) {
					b.addEventListener(e, c, false)
				} else {
					if(!c.$$guid) {
						c.$$guid = dean_addEvent.guid++
					}
					if(!b.events) {
						b.events = {}
					}
					var a = b.events[e];
					if(!a) {
						a = b.events[e] = {};
						if(b["on" + e]) {
							a[0] = b["on" + e]
						}
					}
					a[c.$$guid] = c;
					b["on" + e] = handleEvent
				}
			}


			dean_addEvent.guid = 1;
			function removeEvent(a, c, b) {
				if(a.removeEventListener) {
					a.removeEventListener(c, b, false)
				} else {
					if(a.events && a.events[c]) {
						delete a.events[c][b.$$guid]
					}
				}
			}

			function handleEvent(e) {
				var c = true;
				e = e || fixEvent(((this.ownerDocument || this.document || this).parentWindow || window).event);
				var a = this.events[e.type];
				for(var b in a) {
					this.$$handleEvent = a[b];
					if(this.$$handleEvent(e) === false) {
						c = false
					}
				}
				return c
			}

			function fixEvent(a) {
				a.preventDefault = fixEvent.preventDefault;
				a.stopPropagation = fixEvent.stopPropagation;
				return a
			}


			fixEvent.preventDefault = function() {
				this.returnValue = false
			};
			fixEvent.stopPropagation = function() {
				this.cancelBubble = true
			};
			if(!Array.forEach) {
				Array.forEach = function(e, c, b) {
					for(var a = 0; a < e.length; a++) {
						c.call(b, e[a], a, e)
					}
				}
			}
			Function.prototype.forEach = function(a, e, c) {
				for(var b in a) {
					if( typeof this.prototype[b] == "undefined") {
						e.call(c, a[b], b, a)
					}
				}
			};
			String.forEach = function(a, c, b) {
				Array.forEach(a.split(""), function(f, e) {
					c.call(b, f, e, a)
				})
			};
			var forEach = function(a, e, b) {
				if(a) {
					var c = Object;
					if( a instanceof Function) {
						c = Function
					} else {
						if(a.forEach instanceof Function) {
							a.forEach(e, b);
							return
						} else {
							if( typeof a == "string") {
								c = String
							} else {
								if( typeof a.length == "number") {
									c = Array
								}
							}
						}
					}
					c.forEach(a, e, b)
				}
			};
		</script>
		<style>
			body {
				background: repeat;
				background-image: url("images/noise.png");
			}
			td {

				align: left;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: 500;
				font-style: normal;
				padding-left: 0.05em;
				padding-right: 0.05em;
				padding-top: 0.05em;
				padding-bottom: 0.05em;
				border-top: 0.1em solid #4A3E4A;
				border-bottom-color: #4A3E4A;
				border-bottom: 0.1em solid #4A3E4A;
				height: 4em;
				background: #FCFCFC;
				text-align: center;
			}

			th {
				align: center;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: 700;
				font-style: normal;
				border-top-color: #6C606C;
				border-bottom-color: #6C606C;
				border-top: 0.1em solid #6C606C;
				border-bottom: 0.1em solid #6C606C;
				padding-left: 0.05em;
				padding-right: 0.05em;
				padding-top: 0.05em;
				padding-bottom: 0.05em;
				border-left-color: #6C606C;
				border-left: 0.2em solid #6C606C;
				border-right-color: #FFFFFF;
				border-right: 0px solid #FFFFFF;
				height: 3em;
				color: #FFFFFF;
				background: #6C606C;
				text-align: center;
				text-shadow: 0.1em 0.1em 0.1em black;
			}

			#motiftable {
				width: 98%;
				text-align: center;
				margin: 0 auto;
				border: 3;
				cellspacing: 0;
				border-color: #4A3E4A;
				font-size: 0.9em;
				border-collapse: collapse;
				box-shadow: 0.5em 0.5em 0.3em #888888;
			}

			#table_container {
				float: left;
				margin-top: 1.2em;
				width: 100%;
			}

			#log {
				float: left;
				align: left;
				clear: both;
				padding-top: 1.2em;
				margin-left: 1%;
			}

			#top {
				width: 100%;
				height: 10em;
				line-height: 10em;
				clear: both;
				border-left: 0.1em;
				border-right: 0.1em;
				display: inline-block;
				text-shadow: 0.05em 0.05em 0.8em black;
				color: #FFFFFF;
				background: #4A3E4A;
				float: left;
			}

			#logo {
				float: left;
				height: 10em;
				line-height: 10em;
				text-align: center;
				padding-left: 1em;
			}

			#logo img {
				vertical-align: middle;
				border-radius: 1em;
			}

			#haystack_text {

				float: left;
				padding-left: 0.8em;
				height: 100%;
				width: 5em;
				vertical-align: middle;
				font-size: 2em;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: 700;
				font-style: normal;
			}

			#haystack_text_small {

				float: left;
				padding-left: 1em;
				height: 100%;
				width: 20em;
				vertical-align: middle;
				font-size: 1.2em;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: 200;
				font-style: normal;
			}

			#about {

				float: left;
				clear: both;
				width: 100%;
				height: 5em;
				line-height: 5em;
				background: #4A3E4A;
				color: #FFFFFF;
				align: center;
				font-size: 1.2em;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: 700;
				font-style: normal;
				text-align: center;
				text-shadow: 0.05em 0.05em 0.8em black;
				margin-top: 1em;
			}

			a.white:link {
				COLOR: #FFFFFF;
			}
			a.white:visited {
				COLOR: #FFFFFF;
			}
			a.white:hover {
				COLOR: #FF0000;
			}
			a.white :active {
				COLOR: #888888;
			}

		</style>
	</head>
	<body>
		<div id="top">
			<div id="logo"><img src="images/haystack_logo.png" alt="haystack logo" height="100" width="100">
			</div>
			<span id="haystack_text"> Haystack</span><span id="haystack_text_small"> Motif Enrichment Analysis Tool</span>
		</div>

		<div id='log'>
			<br>
			Target Coordinates: COMMON_FLIP.bed (314)
			<br>
			Background Coordinates: COMMON_DOWNSAMPLED_F03_F05.200bp.bed (258)
			<br>
			Motifs database file:/homes10/lpinello/Haystack_dependencies/motif_databases/JASPAR_CORE_2016_vertebrates.meme
			<br>
			Command used: <i>/gcdata/gcproj/Luca/pixie/bin/haystack_motifs COMMON_FLIP.bed mm10 --bed_bg_filename COMMON_DOWNSAMPLED_F03_F05.200bp.bed --n_processes 32</i>
		</div>

		<div  id="table_container">

			
			<h3> No motif found. </h3>

					</div>

		<div id="about">
			Haystack  was built by <a class="white" href="http://www.linkedin.com/pub/luca-pinello/18/b01/7a1">Luca Pinello</a> | <a class="white" href="mailto:lpinello@jimmy.harvard.edu?subject=Haystack">Contact Author</a>
		</div>

	</body>
</html>
