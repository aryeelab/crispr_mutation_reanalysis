
This folder is a temporary storage location for transferring data to other users of the ERISone cluster.  


IMPORTANT NOTES

  - /pub/dropbox is only accessible from the cluster login nodes
  - please promptly copy data placed here for you and delete the dropbox copy 
  - do not store the only copy of any data here
  - please do not run any computational work on data located here

  - !! data remaining here for more than 30 days will be automatically deleted !!


FOR DATA PRIVACY - comply with all HIPPA guidelines http://www.hhs.gov/ocr/privacy/

  - the owner of data in this folder takes responsibility for data privacy
  - do not make data "world readable" using the 'chmod' command unless it contains no
      Protected Health Information (PHI) or Intelectual Property (IP)


USE OF THE DROPBOX FOLDER - THE SENDER

  - open an "ssh" session on the cluster login node
  - look up the Partners Login ID of the recipient by first or last name (eg. john) 

$ finger john
Login: abc01          			Name: John Doe
Directory: /PHShome/abc01           	Shell: /bin/bash

  - make a folder indicating the creation date and intended recipient (eg "abc01")

$ mkdir /pub/dropbox/2013-07-30_for_abc01

  - copy all files to be transferred into the folder

$ cp sharedfile1.zip sharedfile2.zip /pub/dropbox/2013-07-30_for_abc01

  - give read, write and directory permission to the recipient

$ setfacl -R -m u:abc01:rwX /pub/dropbox/2013-07-30_for_abc01

  - finally notify the recipient of the path to these files


USE OF THE DROPBOX FOLDER - THE RECIPIENT

  - open an "ssh" session on the cluster login node
  - copy the contents of the shared folder to your data or home folder

$ cp -v /pub/dropbox/2013-07-30_for_abc01/* /data/my_lab_folder

  - Once satisfied with the transfer, remove the sent files from dropbox

$ rm /pub/dropbox/2013-07-30_for_abc01/* 


NOTES ON ACCESS CONTROL LISTS (ACLs)

  - we are using "Access Control List" (ACL) permissions to share the data
      with the intended recipient(s) or recipient group. For example, to 
      share the file "sharedfile.zip" with user "abc01", execute this command

      setfacl -m u:abc01:rw sharedfile.zip

      or with group "lab02"

      setfacl -m u:lab02:rw sharedfile.zip

      And to view the current permissions on the file use 

      getfacl sharedfile.zip

      Or remove all "ACL" permissions

      setfacl -b sharedfile.zip

  - for more information use the command 'man setfacl' or google "Linux ACL" 